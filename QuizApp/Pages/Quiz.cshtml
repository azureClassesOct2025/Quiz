@page
@model QuizModel
@{
    ViewData["Title"] = "Quiz";
}

<h2>Question @(@Model.Step + 1) of @Model.TotalQuestions</h2>
<p><strong>@Model.CurrentQuestion</strong></p>

<form method="post">
    <input type="hidden" name="Step" value="@Model.Step" />
    @if (!string.IsNullOrWhiteSpace(Model.Error))
    {
        <div class="text-danger" style="margin-bottom:10px">@Model.Error</div>
    }
    <div class="form-group">
        @for (int i = 0; i < Model.Options.Length; i++)
        {
            var letter = ((char)('A' + i)).ToString();
            var optionId = $"opt_{i}";
            <div style="margin-bottom:6px">
                <input type="radio" id="@optionId" name="Selected" value="@letter" @(Model.Selected == letter ? "checked" : null) @(i == 0 ? "required" : null) />
                <label for="@optionId">@letter) @Model.Options[i]</label>
            </div>
        }
    </div>

    <div style="margin-top:12px">
        <button class="btn btn-secondary" formaction="/Index" formmethod="get" formnovalidate type="submit">Cancel</button>
        @if (!Model.IsLast)
        {
            <button class="btn btn-primary" type="submit" name="action" value="next">Next</button>
        }
        else
        {
            <button class="btn btn-success" type="submit" name="action" value="submit">Submit</button>
        }
    </div>
</form>


